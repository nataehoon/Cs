@page "/memberview"

@if (loginfo != null)
{
    <h3>My Infomation</h3>

    <p>@loginfo.Id</p>
    <p>@loginfo.Name</p>
    <p>@loginfo.Nick</p>
    <p>@loginfo.Resposibility</p>

    <button type="button" @onclick="@(() => {navigationManager.NavigateTo("/memberform", forceLoad:true);})">정보 수정</button>
}
else
{
    <p>....Loading....</p>
}

@code {
    public Member? loginfo { get; set; }

    private List<Member> members { get; set; } = null!;

    protected override async Task OnInitializedAsync()
    {
        loginfo = await sessionStorage.GetItemAsync<Member>("loginfo");
        await Task.Delay(100);
        members = await MemberService.GetMembersAsync();
    }
}
